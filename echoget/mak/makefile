#********************************************************************
# File:  makefile
#--------------------------------------------------------------------
# Description:
#
#--------------------------------------------------------------------

PROG_NAME  = echoget

HOMEDIR =   ../..
DIR =       ..
TMPDIR =    $(DIR)

######################################################################
# Source, Object, and Binary Directories
#---------------------------------------------------------------------

MAKDIR = $(DIR)/mak
SRCDIR = $(DIR)/src
OBJDIR = $(TMPDIR)/obj
INCDIR = $(DIR)/inc
BINDIR = $(DIR)/mak

######################################################################
# Source Files
#---------------------------------------------------------------------

SRC_FILES = $(SRCDIR)/echoGetMain.c

######################################################################
# Include Files
#---------------------------------------------------------------------

INC_FILES = $(INCDIR)/echoGetMain.h

######################################################################
# Make Files
#---------------------------------------------------------------------

######################################################################
# Object Files
#---------------------------------------------------------------------

OBJ_FILES  = $(SRC_FILES:$(SRCDIR)%.c=$(OBJDIR)%.o)

######################################################################
# Compile Flags
#---------------------------------------------------------------------

CC =  gcc

CFLAGS =        \
	-DLINUX=1   \
	-Wall       \
	-I$(INCDIR)

######################################################################
# Debug Flags
#---------------------------------------------------------------------

######################################################################
# Libraries
#---------------------------------------------------------------------

# Blackie
#LIBS = \
	/usr/lib64/libmysqlclient.so \
	/usr/lib64/libpthread.so \
	-lz

#hazel2
LIBS = \
	/usr/lib/x86_64-linux-gnu/libmysqlclient.so \
	-lpthread \
	-lz

######################################################################
# Targets
#---------------------------------------------------------------------

all: $(BINDIR)/$(PROG_NAME)

$(BINDIR)/$(PROG_NAME): $(OBJ_FILES)
	$(CC) $(CFLAGS) $(OBJ_FILES) $(LIBS) -o $(BINDIR)/$(PROG_NAME)


######################################################################
# Clean Commands
#---------------------------------------------------------------------

clean:
	rm -f $(BINDIR)/$(PROG_NAME)
	rm -f $(OBJDIR)/*.o
	rm -f $(SRCDIR)/*~ $(INCDIR)/*~ $(MAKDIR)/*~
	rm -f $(SRCDIR)/*.bak $(INCDIR)/*.bak $(MAKDIR)/*.bak
	rm -f $(MAKDIR)/*.log

######################################################################
# How to make objects
#---------------------------------------------------------------------

$(OBJDIR)/%.o : $(SRCDIR)/%.c
	$(CC) -g -c -o $@ $(CFLAGS) $(SRCDIR)/$*.c

######################################################################
# End of File
#---------------------------------------------------------------------

