#********************************************************************
# File:  makefile
#--------------------------------------------------------------------
# Description:
#
#--------------------------------------------------------------------

PROG_NAME = filecomp

HOMEDIR = 	../..
DIR = 		..
TMPDIR = 	$(DIR)

######################################################################
# Source, Object, and Binary Directories
#---------------------------------------------------------------------

MAKDIR = $(DIR)/mak
SRCDIR = $(DIR)/src
OBJDIR = $(TMPDIR)/obj
INCDIR = $(DIR)/inc
BINDIR = $(DIR)/mak

######################################################################
# Source Files
#---------------------------------------------------------------------

SRC_FILES =	$(SRCDIR)/filecomp.c

######################################################################
# Include Files
#---------------------------------------------------------------------

INC_FILES =	$(INCDIR)/filecompMain.h

######################################################################
# Make Files
#---------------------------------------------------------------------

######################################################################
# Object Files
#---------------------------------------------------------------------

OBJ_FILES =	$(SRC_FILES:$(SRCDIR)%.c=$(OBJDIR)%.o)

######################################################################
# Compile Flags
#---------------------------------------------------------------------

CC =  	gcc

CFLAGS =        \
	-DLINUX=1   \
	-Wall       \
	-I$(INCDIR)

######################################################################
# Debug Flags
#---------------------------------------------------------------------

######################################################################
# Libraries
#---------------------------------------------------------------------


######################################################################
# Targets
#---------------------------------------------------------------------

$(BINDIR)/$(PROG_NAME): $(OBJ_FILES)
	$(CC) $(CFLAGS) $(OBJ_FILES) -o $(BINDIR)/$(PROG_NAME)

######################################################################
# Clean Commands
#---------------------------------------------------------------------

clean:
	rm -f $(BINDIR)/$(PROG_NAME)
	rm -f $(OBJ_FILES)
	rm -f $(SRCDIR)/*~ $(INCDIR)/*~ $(MAKDIR)/*~

######################################################################
# How to make objects
#---------------------------------------------------------------------

$(OBJDIR)/%.o : 	$(SRCDIR)/%.c
	$(CC) -g -c -o $@ $(CFLAGS) $(SRCDIR)/$*.c

######################################################################
# End of File
#---------------------------------------------------------------------

